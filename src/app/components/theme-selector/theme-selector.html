<button mat-icon-button [matMenuTriggerFor]="themeMenu">
  <mat-icon>format_color_fill</mat-icon>
</button>

<mat-menu
  #themeMenu="matMenu"
  class="theme-selector">

  <div class="menu-container">
    <!-- Mode -->
    <div class="menu-column">
      <h3 class="menu-title">Mode</h3>
      <mat-radio-group
        class="color-group"
        [value]="themeService.currentTheme.mode"
        (change)="themeService.setThemeMode($event.value)">
        <mat-radio-button *ngFor="let m of themeModes" [value]="m">
          {{ m | titlecase }}
        </mat-radio-button>
      </mat-radio-group>
    </div>

    <!-- Colors -->
    <div class="menu-column color-column">
      <h3 class="menu-title">Color</h3>
      <mat-radio-group
        class="color-group"
        [value]="themeService.currentTheme.color"
        (change)="themeService.setThemeColor($event.value)">
        <mat-radio-button *ngFor="let c of themeColors" [value]="c">
          {{ c | titlecase }}
        </mat-radio-button>
      </mat-radio-group>
    </div>
  </div>
</mat-menu>
